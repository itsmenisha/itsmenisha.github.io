<!DOCTYPE html>
<html lang="ne">
  <head>
    <meta charset="UTF-8" />
    <title>GAD-7 рдЪрд┐рдиреНрддрд╛ рдкрд░реАрдХреНрд╖рдг</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
 <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0;
        font-size: 3vh;
       
        font-size: larger;
         background: #fff8f2; /* updated */
    margin: 0;
    padding: 20px;
  }
       
   

  .container {
    max-width: 700px;
    margin: auto;
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }

  h1,
  h2 {
    color: #f7941d; /* updated */
    text-align: center;
  }

  label {
    display: block;
    margin-top: 15px;
    font-size: 1rem;
  }

  .question {
    margin-top: 30px;
  }

  .options label,select {
    display: block;
    background: #fff0e3; /* updated */
    padding: 10px;
    margin: 10px 0;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s;
  }

  .options input[type="radio"] {
    margin-right: 10px;
  }

  .btn {
    background: #f7941d; /* updated */
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    margin-top: 20px;
    font-size: 1rem;
    cursor: pointer;
  }

  .btn:hover {
    background: #d97a00; /* updated */
  }

  .result {
    background: #fff6eb; /* updated */
    border-left: 6px solid #f7941d; /* updated */
    padding: 20px;
    border-radius: 10px;
    margin-top: 30px;
  }

  .hidden {
    display: none;
  }

  input[type="text"],
  input[type="date"] {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    margin-bottom: 15px;
  }

  .question-numbers {
    text-align: center;
    margin-bottom: 20px;
  }

  .question-numbers .number {
    display: inline-block;
    width: 36px;
    height: 36px;
    line-height: 36px;
    margin: 0 5px;
    border-radius: 50%;
    background-color: #ffe2c4; /* updated */
    color: #333;
    font-weight: bold;
  }

  .question-numbers .active {
    background-color: #f7941d; /* updated */
    color: #fff;
  }

  .cards {
    text-align: center;
    margin-top: 30px;
  }

  .card {
    display: inline-block;
    padding: 12px 24px;
    background: #f7941d; /* updated */
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
    color: white;
  
  }

  .card:hover {
    background: #d97a00; /* updated */
  }
   a {
        text-decoration: none;
        color: black;
      }

      a:hover {
        text-decoration: underline;
        cursor: pointer;
      }
</style>

  </head>
  <body>
     {% include "navbar.html" %}
    <div class="container" method="POST">
      <h1>рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдЕрд╡рд╕реНрдерд╛ рд╕рдореНрдмрдиреНрдзреА рдкреНрд░рд╛рд░рдореНрднрд┐рдХ рдкрд░реАрдХреНрд╖рдг</h1>
      <br />
      <h2>
        рдЪрд┐рдиреНрддрд╛ рдЪрд┐рдиреНрддрд╛рдЬрдиреНрдп рд╕рдорд╕реНрдпрд╛ (рдПрдЩреНрдЬрд╛рдЗрдЯреА)рдХреЛ рдкреНрд░рд╛рд░рдореНрднрд┐рдХ рдкрд░реАрдХреНрд╖рдг: рдЬрд┐ рдП рдбрд┐ рен
        (GAD-7)
      </h2>

      <p>
        рддрд▓рдХрд╛ рдкреНрд░рд╢реНрдирд╣рд░реВ рдкрдвреЗрд░ рдЧрдПрдХреЛ реи рд╣рдкреНрддрд╛рдХреЛ рдЕрдиреБрднрд╡рд╣рд░реБрд▓рд╛рдИ рд╕рдореНрдЭреЗрд░ рдХрд╣рд┐рд▓реНрдпреИ рдкрдирд┐ рднрдПрди,
        рдХрд╣рд┐рд▓реЗрдХрд╛рд╣реАрдВ рднрдпреЛ, рдзреЗрд░реИ рдЬрд╕реЛ рднрдпреЛ, рд╡рд╛ рд╕рдБрдзреИ рдЬрд╕реЛ рднрдпреЛ рдордзреНрдпреЗ рдЖрдлреВрд▓рд╛рдИ рдорд┐рд▓реНрдиреЗ рдПрдЙрдЯрд╛
        рдЙрддреНрддрд░ рд░реЛрдЬреНрдиреБрд╣реЛрд╕реНред
      </p>
     
      <p style="text-align: justify; color: rgb(155, 2, 2)">
        <strong
          >рд╣рд╛рдореА рддрдкрд╛рдИрдВрдХреЛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рдЧреЛрдкрдиреАрдпрддрд╛ рд░ рд╕реБрд░рдХреНрд╖рд╛рдорд╛ рдкреВрд░реНрдг рдкреНрд░рддрд┐рд╡рджреНрдз
          рдЫреМрдВред</strong
        >
      </p>


      <div id="startScreen">
     
        <label>рд╣рд╛рд▓рдХреЛ рдареЗрдЧрд╛рдирд╛:</label>
        <input type="text" id="address" placeholder="рд╣рд╛рд▓рдХреЛ рдареЗрдЧрд╛рдирд╛ рд▓реЗрдЦреНрдиреБрд╣реЛрд╕реН" />
        <label>рд▓рд┐рдЩреНрдЧ (Gender):</label>
        <select id="gender" required>
          <option value="">-- рд▓рд┐рдЩреНрдЧ рдЫрд╛рдиреНрдиреБрд╣реЛрд╕реН --</option>
          <option value="рдкреБрд░реБрд╖">рдкреБрд░реБрд╖ (Male)</option>
          <option value="рдорд╣рд┐рд▓рд╛">рдорд╣рд┐рд▓рд╛ (Female)</option>
          <option value="рдЕрдиреНрдп">рдЕрдиреНрдп (Self-describe)</option>
          <option value="рдкреНрд░рдХрдЯ рдЧрд░реНрди рдЪрд╛рд╣рдиреНрди">
            рдкреНрд░рдХрдЯ рдЧрд░реНрди рдЪрд╛рд╣рдиреНрди (Prefer not to say)
          </option>
        </select>

        <label>рдЙрдореЗрд░:</label>
        <input type="text" id="age" placeholder="рдЙрдореЗрд░ рд▓реЗрдЦреНрдиреБрд╣реЛрд╕реН" />

        <label>рдорд┐рддрд┐:</label>
        <input type="date" id="date" />
        <script>
          document.getElementById("date").value = new Date()
            .toISOString()
            .split("T")[0];
        </script>

        <button class="btn" onclick="startQuiz()">рд╕реБрд░реБ рдЧрд░реНрдиреБрд╣реЛрд╕реН</button>

      </div>

      <div id="quizContainer" class="hidden">
        <div class="question" id="questionText"></div>
        <div class="options" id="optionsContainer"></div>
        <button class="btn" onclick="nextQuestion()">рдЕрд░реНрдХреЛ рдкреНрд░рд╢реНрди</button>
             <div class="question-numbers" id="questionNumbers"></div>
   
      </div>

      <div id="resultContainer" class="result hidden"></div>
    </div>

    <div class="cards">
      <a href="{{ url_for('gad7') }}" class="card">Retake</a>
      <a href="{{ url_for('introgad') }}" class="card">Details</a>
    </div>

    <script>
    

      const questions = [
        "рез. рддрдкрд╛рдИрд▓рд╛рдИ рдордирдорд╛ рдЪрд┐рдиреНрддрд╛ рд▓рд╛рдЧрд┐ рд░рд╣рдиреЗ рдХрддреНрддрд┐рдХреЛ рднрдпреЛ ?",
        "реи. рдЪрд┐рдиреНрддрд╛ рд░реЛрдХреНрди рдирд╕рдХреНрдиреЗ рдХрддреНрддрд┐рдХреЛ рднрдпреЛ ?",
        "рей. рд╡рд┐рднрд┐рдиреНрди рдХреБрд░рд╛рд╣рд░реВрдХреЛ рдмрд╛рд░реЗрдорд╛ рдзреЗрд░реИ рдиреИ рдЪрд┐рдиреНрддрд╛ рд▓рд╛рдЧрд┐ рд░рд╣рдиреЗ рдХрддреНрддрд┐рдХреЛ рднрдпреЛ ? (рдЬрд╕реНрддреИ: рдХрд╛рдордХреЛ, рдкрд░рд┐рд╡рд╛рд░рдХреЛ, рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐рдХреЛ рдмрд╛рд░реЗрдорд╛)",
        "рек. рдЖрд░рд╛рдо рдЧрд░реНрди рдЧрд╛рд╣реНрд░реЛ рд╣реБрдиреЗ рдХрддреНрддрд┐рдХреЛ рднрдпреЛ ?",
        "рел. рдзреЗрд░реИ рдЫрдЯрдкрдЯреА рднрдПрд░ рдПрдХ рдард╛рдЙрдБрдорд╛ рдмрд╕реНрди рдЧрд╛рд╣реНрд░реЛ рд╣реБрдиреЗ рдХрддреНрддрд┐рдХреЛ рднрдпреЛ ?",
        "рем. рдЫрд┐рдЯреНрдЯреИ рд░рд┐рд╕ рдЙрдареНрдиреЗ рд╡рд╛ рдЭрд░реНрдХреЛ рд▓рд╛рдЧреНрдиреЗ рдХрддреНрддрд┐рдХреЛ рднрдпреЛ ?",
        "рен. рдХреЗрд╣реА рдирд░рд╛рдореНрд░реЛ рднрдИрд╣рд╛рд▓реНрдЫ рдХрд┐ рднрдиреЗрд░ рдордирдорд╛ рдбрд░ рд▓рд╛рдЧрд┐ рд░рд╣рдиреЗ рдХрддреНрддрд┐рдХреЛ рднрдпреЛ ?",
      ];

      const options = [
        { value: 0, label: "рдХрд╣рд┐рд▓реНрдпреИ рдкрдирд┐ рднрдПрди" },
        { value: 1, label: "рдХрд╣рд┐рд▓реЗрдХрд╛рд╣реАрдВ рднрдпреЛ" },
        { value: 2, label: "рдзреЗрд░реИ рдЬрд╕реЛ рднрдпреЛ" },
        { value: 3, label: "рд╕рдБрдзреИ рдЬрд╕реЛ рднрдпреЛ" },
      ];

      let currentQuestion = 0;
      const answers = [];

      function startQuiz() {
        const gender = document.getElementById("gender").value.trim();
        const address = document.getElementById("address").value.trim();
        const age = document.getElementById("age").value.trim();
        const date = document.getElementById("date").value.trim();

        if (!gender || !address || !age ||!date) {
          alert("рдХреГрдкрдпрд╛ рд╕рдмреИ рд╡рд┐рд╡рд░рдгрд╣рд░реВ (рд▓рд┐рдЩреНрдЧ, рдареЗрдЧрд╛рдирд╛, рдЙрдореЗрд░,рдорд┐рддрд┐) рднрд░реНрдиреБрд╣реЛрд╕реНред");
          return;
        }

        document.getElementById("startScreen").classList.add("hidden");
        document.getElementById("quizContainer").classList.remove("hidden");
        showQuestion();
      }

      function showQuestion() {
        document.getElementById("questionText").innerText =
          questions[currentQuestion];
        const container = document.getElementById("optionsContainer");
        container.innerHTML = "";

        options.forEach((opt, idx) => {
          const id = `opt${idx}`;
          const radio = `<input type="radio" name="answer" id="${id}" value="${opt.value}">`;
          const label = `<label for="${id}">${radio}${opt.label}</label>`;
          container.innerHTML += label;
        });

        const numberContainer = document.getElementById("questionNumbers");
        numberContainer.innerHTML = "";
        for (let i = 0; i < questions.length; i++) {
          const circle = document.createElement("div");
          circle.classList.add("number");
          if (i === currentQuestion) circle.classList.add("active");
          circle.innerText = i + 1;
          numberContainer.appendChild(circle);
        }
         // Change button text here
          const btn = document.querySelector('#quizContainer button.btn');
          if (currentQuestion === questions.length - 1) {
            btn.textContent = "рд╕рдмрдорд┐рдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН";  // Submit in Nepali
            btn.onclick = submitQuiz;  // change click handler to submitQuiz function (defined next)
          } else {
            btn.textContent = "рдЕрд░реНрдХреЛ рдкреНрд░рд╢реНрди";  // Next Question
            btn.onclick = nextQuestion;
          }
        }
      

      function nextQuestion() {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) {
          alert("рдХреГрдкрдпрд╛ рдЙрддреНрддрд░ рдЪрдпрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред");
          return;
        }

        answers.push(parseInt(selected.value));
        currentQuestion++;

        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          showResult();
        }
      }
        function downloadPDF() {
            const gender = document.getElementById("gender").value.trim();
      const element = document.getElementById("pdfReport");
  html2canvas(element, { scale: 2 }).then(canvas => {
    const imgData = canvas.toDataURL('image/png');
    const pdf = new window.jspdf.jsPDF('p', 'mm', 'a4');
    // Calculate width/height to fit A4
    const pdfWidth = pdf.internal.pageSize.getWidth();
    const pdfHeight = pdf.internal.pageSize.getHeight();
    const imgWidth = canvas.width;
    const imgHeight = canvas.height;
    const ratio = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);
    const imgPDFWidth = imgWidth * ratio;
    const imgPDFHeight = imgHeight * ratio;
    pdf.addImage(imgData, 'PNG', 0, 0, imgPDFWidth, imgPDFHeight);
    pdf.save(`GAD7_Report_${name.replace(/\s+/g, "_")}.pdf`);
  });
}

      function showResult() {
        const gender = document.getElementById("gender").value.trim();
        const address = document.getElementById("address").value;
        const age = document.getElementById("age").value;
        const date = document.getElementById("date").value;

        const totalScore = answers.reduce((sum, val) => sum + val, 0);
        const percentScore = totalScore * 4;

        let interpretation = "";
if (totalScore <= 4) {
  interpretation = `
    <p>рддрдкрд╛рдИрд▓реЗ рджрд┐рдПрдХреЛ рдЬрд╡рд╛рдлрдХреЛ рдЖрдзрд╛рд░рдорд╛ рддрдкрд╛рдИрдорд╛ рдЪрд┐рдиреНрддрд╛рдЬрдиреНрдп рд╕рдорд╕реНрдпрд╛ рдХрдо рдЫ рд╡рд╛ рдЫрджреИ рдЫреИрдиред</p>
    <p>рдХрд╣рд┐рд▓реЗрдХрд╛рд╣реАрдВ рдЕрд▓рд┐ рдЕрд▓рд┐ рдЪрд┐рдиреНрддрд╛ рд╣реБрдиреБ рд╕рд╛рдорд╛рдиреНрдп рдиреИ рд╣реЛред</p>
    <p><a href="{{ url_for('article2') }}" target="_blank">рддрдкрд╛рдИрдВрдХреЛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдирд┐рд░рдиреНрддрд░рддрд╛ рд▓рд╛рдЧрд┐ рдХреЗрд╣реА <u> рд╕рдорд╛рдзрд╛рдирд╣рд░реВ</u>ред</a></p>
  `;
} else if (totalScore <= 9) {
  interpretation = `
    <p>рддрдкрд╛рдИрд▓реЗ рджрд┐рдПрдХреЛ рдЬрд╡рд╛рдлрдХреЛ рдЖрдзрд╛рд░рдорд╛ рддрдкрд╛рдИрдорд╛ рдЪрд┐рдиреНрддрд╛рдЬрдиреНрдп рд╕рдорд╕реНрдпрд╛ рд╣рд▓реНрдХрд╛ рдЫред</p>
    <p>рдХрд╣рд┐рд▓реЗрдХрд╛рд╣реАрдВ рдЕрд▓рд┐ рдЕрд▓рд┐ рдЪрд┐рдиреНрддрд╛ рд╣реБрдиреБ рд╕рд╛рдорд╛рдиреНрдп рдиреИ рд╣реЛред рдЪрд┐рдиреНрддрд╛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреЗ рд╕рдХрд╛рд░рд╛рддреНрдордХ рдЙрдкрд╛рдпрд╣рд░реВ рдЬрд╛рдиреНрдиреБ рдЙрдкрдпреБрдХреНрдд рд╣реБрдиреНрдЫред</p>
    <p><a href="{{ url_for('article2') }}" target="_blank">рдЪрд┐рдиреНрддрд╛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рд░ рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкреНрд░рд╡рд░реНрджреНрдзрди рд╕рдореНрдмрдиреНрдзреА <u>рдЬрд╛рдирдХрд╛рд░реА</u> ред</a></p>
  `;
} else if (totalScore <= 14) {
  interpretation = `
    <p>рддрдкрд╛рдИрд▓реЗ рджрд┐рдПрдХреЛ рдЬрд╡рд╛рдлрдХреЛ рдЖрдзрд╛рд░рдорд╛ рддрдкрд╛рдИрдорд╛ рдЪрд┐рдиреНрддрд╛рдЬрдиреНрдп рд╕рдорд╕реНрдпрд╛ рдордзреНрдпрдо рдЦрд╛рд▓рдХреЛ рдЫред</p>
    <p>рд╕рдорд╕реНрдпрд╛рд▓рд╛рдИ рдЙрдЪрд┐рдд рдврдВрдЧрд▓реЗ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрди рддрдкрд╛рдИрд▓реЗ рд╕реНрд╡рд╛рд╕реНрдереНрдпрдХрд░реНрдореА рддрдерд╛ рд╡рд┐рдЬреНрдЮрдХреЛ рд╕рд╣рдпреЛрдЧ рд▓рд┐рдиреБ рдЙрдкрдпреБрдХреНрдд рд╣реБрдиреНрдЫред </p>
    <p><a href="{{ url_for('support') }}" target="_blank">рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛ рд▓рд┐рдПрд░ рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд▓рд╛рдн рдЧрд░реНрдиреЗ рдмрд╛рд░реЗ <u>рдЬрд╛рдирдХрд╛рд░реА</u> ред</a></p>
    <ul>
      <li>рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛ рдХреЗрдиреНрджреНрд░рд╣рд░реВ</li>
      <li>рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдкрд░рд╛рдорд░реНрд╢рджрд╛рддрд╛</li>
     </ul>
  `;
} else {
  interpretation = `
    <p>рддрдкрд╛рдИрд▓реЗ рджрд┐рдПрдХреЛ рдЬрд╡рд╛рдлрдХреЛ рдЖрдзрд╛рд░рдорд╛ рддрдкрд╛рдИрдорд╛ рдЪрд┐рдиреНрддрд╛рдЬрдиреНрдп рд╕рдорд╕реНрдпрд╛ рдЧрдореНрднреАрд░ рдЦрд╛рд▓рдХреЛ рдЫред</p>
    <p>рд╕рдорд╕реНрдпрд╛рд▓рд╛рдИ рдЙрдЪрд┐рдд рдврдВрдЧрд▓реЗ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрди рддрдкрд╛рдИрд▓реЗ рд╕реНрд╡рд╛рд╕реНрдереНрдпрдХрд░реНрдореА рддрдерд╛ рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╡рд┐рд╢реЗрд╖рдЬреНрдЮрдХреЛ рд╕рд╣рдпреЛрдЧ рд▓рд┐рдиреБ рдЕрддрд┐ рдЖрд╡рд╢реНрдпрдХ рдЫред</p>
    <p><a href="{{ url_for('support') }}" target="_blank">рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛ рд▓рд┐рдПрд░ рдЖрдлреНрдиреЛ рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд▓рд╛рдн рдЧрд░реНрдиреЗ рдмрд╛рд░реЗ <u>рдЬрд╛рдирдХрд╛рд░реА</u> ред</a></p>
    <ul>
      <li>рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдЙрдкрдЪрд╛рд░ рдХреЗрдиреНрджреНрд░рд╣рд░реВ</li>
      <li>рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╕реНрд╡рд╛рд╕реНрдереНрдпрдХрд░реНрдореАрд╣рд░реВрд╕рдБрдЧ рд╕рдореНрдкрд░реНрдХ</li>
      <li>рд╣рдЯрд▓рд╛рдЗрди: <strong>резрезремрем</strong></li>
    
              <li>рд╢рд╣рд░реА рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкреНрд░рд╡рд░реНрджреНрдзрди рдХреЗрдиреНрджреНрд░рд╣рд░реВ</li>
              <li>рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛ - рдмрдмрд░рдорд╣рд▓</li>
              <li>рд╢рд┐рдХреНрд╖рдг рдЕрд╕реНрдкрддрд╛рд▓, рдХрд╛рдиреНрддрд┐ рдмрд╛рд▓ рдЕрд╕реНрдкрддрд╛рд▓</li>
              <li>рдорд╛рдирд╕рд┐рдХ рдЕрд╕реНрдкрддрд╛рд▓ - рд▓рдЧрдирдЦреЗрд▓, рд▓рд▓рд┐рддрдкреБрд░</li>
              <li>рд░рд╛рд╖реНрдЯреНрд░рд┐рдп рдЖрддреНрдорд╣рддреНрдпрд╛ рд░реЛрдХрдерд╛рдо рд╣реЗрд▓реНрдкрд▓рд╛рдЗрди:<strong>резрезремрем</strong></li>
     
    </ul>
  `;
}

// ...inside showResult()...
const resultHTML = `
  <div id="pdfReport" style="padding:15px;color:black;">
    <div style="margin-bottom:16px;">
      <h3 style="margin-top:24px;">рдЪрд┐рдиреНрддрд╛ рдкрд░реАрдХреНрд╖рдг рдирддрд┐рдЬрд╛</h3>
      <h3>рдорд╛рдирд╕рд┐рдХ рднрд▓рд╛рдЗ рдкрд░рд┐рдгрд╛рдо</h3>
    </div>
    <div style="margin-bottom:12px;">
      <p><strong>рд▓рд┐рдЩреНрдЧ:</strong> ${gender}</p>
      <p><strong>рд╣рд╛рд▓рдХреЛ рдареЗрдЧрд╛рдирд╛:</strong> ${address}</p>
      <p><strong>рдЙрдореЗрд░:</strong> ${age}</p>
      <p><strong>рдорд┐рддрд┐:</strong> ${date}</p>
    </div>
    <hr>
     <div style="background-color: white;border-radius: 10px; padding: 15px;">
         
    <div style="margin-bottom:12px;">
      <p><strong>рдХреБрд▓ рд╕реНрдХреЛрд░:</strong> ${totalScore} / 21</p>
    </div>
    <div style="margin-bottom:12px;">
      <strong>рд╡реНрдпрд╛рдЦреНрдпрд╛:</strong>
      ${interpretation}
    </div>
     </div>
    <hr>

    <div style="margin-bottom:12px;">
      <strong>рд╕реВрдЪрдирд╛:</strong><br>
      рдпреЛ рдкреНрд░рд╢реНрдирд╛рд╡рд▓реАрдХреЛ рдорд╛рдзреНрдпрд╛рдорд▓реЗ рдЧрд░реНрдиреЗ рдПрдХ рдкреНрд░рд╛рд░рдореНрднрд┐рдХ рдкрд░реАрдХреНрд╖рдг рдорд╛рддреНрд░ рд╣реЛред рдердк рдкрд░реАрдХреНрд╖рдг рдЧрд░реНрди рд░ рдЖрд╡рд╢реНрдпрдХ рдкрд░рд╛рдорд░реНрд╢ рд╡рд╛ рдФрд╖рдзрд┐ рдЙрдкрдЪрд╛рд░ рд╕реЗрд╡рд╛ рд▓рд┐рди рд╕реНрд╡рд╛рд╕реНрдереНрдпрдХрд░реНрдореА рд╡рд╛ рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╡рд┐рд╢реЗрд╖рдЬреНрдЮрд╣рд░реВ рд▓рд╛рдИ рднреЗрдЯреНрдиреБрд╣реЛрд╕ рд╡рд╛ рд╕рдореНрдкрд░реНрдХ рдЧрд░реНрдиреБрд╣реЛрд╕ред
    </div>
    <div style="margin-bottom:12px;">
      <strong>Source:</strong> GAD-7 was developed by .Drs. Robert L. Spitzer, Janet B.W. Williams, Kurt Kroenke and colleagues, with an educational grant from Pfizer Inc.
    </div>
  </div>
  <div style="text-align: center; margin-top: 20px;">
    <button class="btn" onclick="downloadPDF()">ЁЯУе PDF рдбрд╛рдЙрдирд▓реЛрдб</button>
  </div>
`;
// ...existing code...

        document.getElementById("quizContainer").classList.add("hidden");
        document.getElementById("resultContainer").innerHTML = resultHTML;
        document.getElementById("resultContainer").classList.remove("hidden");
      }
  function submitQuiz() {
  const selected = document.querySelector('input[name="answer"]:checked');

  answers.push(parseInt(selected.value));

   const gender = document.getElementById("gender").value.trim();
  const address = document.getElementById("address").value.trim();
  const age = document.getElementById("age").value.trim();
  const date = document.getElementById("date").value.trim();

  const totalScore = answers.reduce((sum, val) => sum + val, 0);
  const percentScore = totalScore * 4;

  // Send data to Flask backend
  fetch('/submit/gad7', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      gender,
      address,
      age,
      date,
      totalScore,
      percentScore
    })
  })
    .then(response => response.json())
    .then(data => {
      alert(data.message);  // Show success/failure message from backend
      showResult();         // Show result screen after submission
    })
    .catch(error => {
      alert("рдбреЗрдЯрд╛ рдкрдард╛рдЙрди рд╕рдорд╕реНрдпрд╛: " + error);
      showResult();         // Show result anyway
    });
}

    </script>
    </div>
  </body>
</html>
